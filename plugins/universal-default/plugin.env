# Universal defaults for mixed/unknown stacks
RALPH_PLUGIN_NAME=universal-default
RALPH_CODEX_MODEL=auto
RALPH_CODEX_SANDBOX=workspace-write
RALPH_CODEX_APPROVAL=never
RALPH_CODEX_EXEC_TIMEOUT_SEC=900
RALPH_CODEX_RETRY_MAX_ATTEMPTS=3
RALPH_CODEX_RETRY_BACKOFF_SEC=10
RALPH_REQUIRE_CODEX=true
RALPH_ROLE_RULES_ENABLED=true
RALPH_HANDOFF_REQUIRED=true
RALPH_HANDOFF_SCHEMA=universal

# Idle control (prevents tight busy-wait loops)
RALPH_IDLE_SLEEP_SEC=20
RALPH_EXIT_ON_IDLE=false
RALPH_NO_READY_MAX_LOOPS=0

# Busy-wait detection and self-heal
RALPH_BUSYWAIT_DETECT_LOOPS=3
RALPH_BUSYWAIT_SELF_HEAL_ENABLED=true
RALPH_BUSYWAIT_DOCTOR_REPAIR_ENABLED=true
RALPH_BUSYWAIT_SELF_HEAL_COOLDOWN_SEC=120
RALPH_BUSYWAIT_SELF_HEAL_MAX_ATTEMPTS=20
# Optional: custom recovery command executed in project-dir
# RALPH_BUSYWAIT_SELF_HEAL_CMD='scripts/ralph_recover.sh'

# Stuck in-progress watchdog
RALPH_INPROGRESS_WATCHDOG_ENABLED=true
RALPH_INPROGRESS_WATCHDOG_STALE_SEC=1800
RALPH_INPROGRESS_WATCHDOG_SCAN_LOOPS=1

# Background supervisor (auto-restart worker loop)
RALPH_SUPERVISOR_ENABLED=true
RALPH_SUPERVISOR_RESTART_DELAY_SEC=5

# Validation policy: safe default for any repo.
RALPH_VALIDATE_ROLES=developer,qa
RALPH_VALIDATE_CMD='echo "validation not configured; set RALPH_VALIDATE_CMD for this project"'
